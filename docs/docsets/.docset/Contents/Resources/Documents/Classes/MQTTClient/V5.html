<!DOCTYPE html>
<html lang="en">
  <head>
    <title>V5 Structure Reference</title>
    <link rel="stylesheet" type="text/css" href="../../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../../js/jquery.min.js" defer></script>
    <script src="../../js/jazzy.js" defer></script>
    
    <script src="../../js/lunr.min.js" defer></script>
    <script src="../../js/typeahead.jquery.js" defer></script>
    <script src="../../js/jazzy.search.js" defer></script>
  </head>
  <body>
    <a name="//apple_ref/swift/Struct/V5" class="dashAnchor"></a>
    <a title="V5 Structure Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../../index.html"> 2.0.0 Docs</a> (87% documented)</p>
        <p class="header-right"><a href="https://github.com/adam-fowler/mqtt-nio"><img src="../../img/gh.png"/>View on GitHub</a></p>
        <p class="header-right">
          <form role="search" action="../../search.json">
            <input type="text" placeholder="Search documentation" data-typeahead>
          </form>
        </p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../../index.html"> Reference</a>
        <img id="carat" src="../../img/carat.png" />
        V5 Structure Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../../Classes/MQTTClient.html">MQTTClient</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MQTTClient/V5.html">– V5</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MQTTClient/Version.html">– Version</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MQTTClient/TLSConfigurationType.html">– TLSConfigurationType</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MQTTClient/Configuration.html">– Configuration</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../../Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../../Enums/MQTTError.html">MQTTError</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Enums/MQTTError/ConnectionReturnValue.html">– ConnectionReturnValue</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Enums/MQTTPacketType.html">MQTTPacketType</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Enums/MQTTQoS.html">MQTTQoS</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Enums/MQTTReasonCode.html">MQTTReasonCode</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Enums/TSCertificateVerification.html">TSCertificateVerification</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../../Structs.html">Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../../Structs/MQTTAckV5.html">MQTTAckV5</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTAuthV5.html">MQTTAuthV5</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTConnackV5.html">MQTTConnackV5</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTPacketError.html">MQTTPacketError</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTProperties.html">MQTTProperties</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTProperties/Property.html">– Property</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTPublishInfo.html">MQTTPublishInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTSuback.html">MQTTSuback</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTSuback/ReturnCode.html">– ReturnCode</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTSubackV5.html">MQTTSubackV5</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTSubscribeInfo.html">MQTTSubscribeInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTSubscribeInfoV5.html">MQTTSubscribeInfoV5</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/MQTTSubscribeInfoV5/RetainHandling.html">– RetainHandling</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Structs/TSTLSConfiguration.html">TSTLSConfiguration</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>V5</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">struct</span> <span class="kt">V5</span></code></pre>

                </div>
              </div>
            <p>Provides implementations of functions that expose MQTT Version 5.0 features</p>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7MQTTNIO10MQTTClientC2V5V7connect10cleanStart10properties4will12authWorkflow3NIO15EventLoopFutureCyAA011MQTTConnackC0VGSb_AA14MQTTPropertiesVSS9topicName_AK10ByteBufferV7payloadAA7MQTTQoSO3qosSb6retainArHtSgAMyAA08MQTTAuthC0VGA1__AK0lM0_ptcSgtF"></a>
                    <a name="//apple_ref/swift/Method/connect(cleanStart:properties:will:authWorkflow:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7MQTTNIO10MQTTClientC2V5V7connect10cleanStart10properties4will12authWorkflow3NIO15EventLoopFutureCyAA011MQTTConnackC0VGSb_AA14MQTTPropertiesVSS9topicName_AK10ByteBufferV7payloadAA7MQTTQoSO3qosSb6retainArHtSgAMyAA08MQTTAuthC0VGA1__AK0lM0_ptcSgtF">connect(cleanStart:<wbr>properties:<wbr>will:<wbr>authWorkflow:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Connect to MQTT server</p>

<p>If <code>cleanSession</code> is set to false the Server MUST resume communications with the Client based on state from the current Session (as identified by the Client identifier).
If there is no Session associated with the Client identifier the Server MUST create a new Session. The Client and Server MUST store the Session
after the Client and Server are disconnected. If set to true then the Client and Server MUST discard any previous Session and start a new one</p>

<p>The function returns an EventLoopFuture which will be updated with whether the server has restored a session for this client.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">connect</span><span class="p">(</span>
    <span class="nv">cleanStart</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">true</span><span class="p">,</span>
    <span class="nv">properties</span><span class="p">:</span> <span class="kt"><a href="../../Structs/MQTTProperties.html">MQTTProperties</a></span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">(),</span>
    <span class="nv">will</span><span class="p">:</span> <span class="p">(</span><span class="nv">topicName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span> <span class="nv">payload</span><span class="p">:</span> <span class="kt">ByteBuffer</span><span class="p">,</span> <span class="nv">qos</span><span class="p">:</span> <span class="kt"><a href="../../Enums/MQTTQoS.html">MQTTQoS</a></span><span class="p">,</span> <span class="nv">retain</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">,</span> <span class="nv">properties</span><span class="p">:</span> <span class="kt"><a href="../../Structs/MQTTProperties.html">MQTTProperties</a></span><span class="p">)?</span> <span class="o">=</span> <span class="kc">nil</span><span class="p">,</span>
    <span class="nv">authWorkflow</span><span class="p">:</span> <span class="p">((</span><span class="kt"><a href="../../Structs/MQTTAuthV5.html">MQTTAuthV5</a></span><span class="p">,</span> <span class="kt">EventLoop</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt"><a href="../../Structs/MQTTAuthV5.html">MQTTAuthV5</a></span><span class="o">&gt;</span><span class="p">)?</span> <span class="o">=</span> <span class="kc">nil</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt"><a href="../../Structs/MQTTConnackV5.html">MQTTConnackV5</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>cleanSession</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>should we start with a new session</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>properties</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>properties to attach to connect message</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>will</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Publish message to be posted as soon as connection is made</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>EventLoopFuture to be updated with connack</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7MQTTNIO10MQTTClientC2V5V7publish2to7payload3qos6retain10properties3NIO15EventLoopFutureCyAA07MQTTAckC0VSgGSS_AL10ByteBufferVAA7MQTTQoSOSbAA14MQTTPropertiesVtF"></a>
                    <a name="//apple_ref/swift/Method/publish(to:payload:qos:retain:properties:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7MQTTNIO10MQTTClientC2V5V7publish2to7payload3qos6retain10properties3NIO15EventLoopFutureCyAA07MQTTAckC0VSgGSS_AL10ByteBufferVAA7MQTTQoSOSbAA14MQTTPropertiesVtF">publish(to:<wbr>payload:<wbr>qos:<wbr>retain:<wbr>properties:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Publish message to topic</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">publish</span><span class="p">(</span>
    <span class="n">to</span> <span class="nv">topicName</span><span class="p">:</span> <span class="kt">String</span><span class="p">,</span>
    <span class="nv">payload</span><span class="p">:</span> <span class="kt">ByteBuffer</span><span class="p">,</span>
    <span class="nv">qos</span><span class="p">:</span> <span class="kt"><a href="../../Enums/MQTTQoS.html">MQTTQoS</a></span><span class="p">,</span>
    <span class="nv">retain</span><span class="p">:</span> <span class="kt">Bool</span> <span class="o">=</span> <span class="kc">false</span><span class="p">,</span>
    <span class="nv">properties</span><span class="p">:</span> <span class="kt"><a href="../../Structs/MQTTProperties.html">MQTTProperties</a></span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">()</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt"><a href="../../Structs/MQTTAckV5.html">MQTTAckV5</a></span><span class="p">?</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>topicName</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Topic name on which the message is published</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>payload</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Message payload</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>qos</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Quality of Service for message.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>retain</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Whether this is a retained message.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>properties</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>properties to attach to publish message</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Future waiting for publish to complete. Depending on QoS setting the future will complete
when message is sent, when PUBACK is received or when PUBREC and following PUBCOMP are
received. QoS1 and above return an <code><a href="../../Structs/MQTTAckV5.html">MQTTAckV5</a></code> which contains a <code>reason</code> and <code>properties</code></p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7MQTTNIO10MQTTClientC2V5V9subscribe2to10properties3NIO15EventLoopFutureCyAA010MQTTSubackC0VGSayAA017MQTTSubscribeInfoC0VG_AA14MQTTPropertiesVtF"></a>
                    <a name="//apple_ref/swift/Method/subscribe(to:properties:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7MQTTNIO10MQTTClientC2V5V9subscribe2to10properties3NIO15EventLoopFutureCyAA010MQTTSubackC0VGSayAA017MQTTSubscribeInfoC0VG_AA14MQTTPropertiesVtF">subscribe(to:<wbr>properties:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Subscribe to topic</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">subscribe</span><span class="p">(</span>
    <span class="n">to</span> <span class="nv">subscriptions</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../../Structs/MQTTSubscribeInfoV5.html">MQTTSubscribeInfoV5</a></span><span class="p">],</span>
    <span class="nv">properties</span><span class="p">:</span> <span class="kt"><a href="../../Structs/MQTTProperties.html">MQTTProperties</a></span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">()</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt"><a href="../../Structs/MQTTSubackV5.html">MQTTSubackV5</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>subscriptions</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Subscription infos</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>properties</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>properties to attach to subscribe message</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Future waiting for subscribe to complete. Will wait for SUBACK message from server and
return its contents</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7MQTTNIO10MQTTClientC2V5V11unsubscribe4from10properties3NIO15EventLoopFutureCyAA010MQTTSubackC0VGSaySSG_AA14MQTTPropertiesVtF"></a>
                    <a name="//apple_ref/swift/Method/unsubscribe(from:properties:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7MQTTNIO10MQTTClientC2V5V11unsubscribe4from10properties3NIO15EventLoopFutureCyAA010MQTTSubackC0VGSaySSG_AA14MQTTPropertiesVtF">unsubscribe(from:<wbr>properties:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Unsubscribe from topic</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">unsubscribe</span><span class="p">(</span>
    <span class="n">from</span> <span class="nv">subscriptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">],</span>
    <span class="nv">properties</span><span class="p">:</span> <span class="kt"><a href="../../Structs/MQTTProperties.html">MQTTProperties</a></span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">()</span>
<span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt"><a href="../../Structs/MQTTSubackV5.html">MQTTSubackV5</a></span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>subscriptions</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>List of subscriptions to unsubscribe from</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>properties</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>properties to attach to unsubscribe message</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Future waiting for unsubscribe to complete. Will wait for UNSUBACK message from server and
return its contents</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:7MQTTNIO10MQTTClientC2V5V10disconnect10properties3NIO15EventLoopFutureCyytGAA14MQTTPropertiesV_tF"></a>
                    <a name="//apple_ref/swift/Method/disconnect(properties:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:7MQTTNIO10MQTTClientC2V5V10disconnect10properties3NIO15EventLoopFutureCyytGAA14MQTTPropertiesV_tF">disconnect(properties:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Disconnect from server</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">disconnect</span><span class="p">(</span><span class="nv">properties</span><span class="p">:</span> <span class="kt"><a href="../../Structs/MQTTProperties.html">MQTTProperties</a></span> <span class="o">=</span> <span class="o">.</span><span class="nf">init</span><span class="p">())</span> <span class="o">-&gt;</span> <span class="kt">EventLoopFuture</span><span class="o">&lt;</span><span class="kt">Void</span><span class="o">&gt;</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>properties</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>properties to attach to disconnect message</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>Future waiting on disconnect message to be sent</p>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2021 <a class="link" href="https://github.com/adam-fowler" target="_blank" rel="external">Adam Fowler</a>. All rights reserved. (Last updated: 2021-07-01)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
